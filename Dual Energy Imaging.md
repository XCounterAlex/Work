# _Dual Energy Imaging_
## The Problem
Dual Energy Imaging is a method of filtering out specific sections of an image, by comparing two images of the same subject. This is useful, for example, when using X-rays to scan an object for abnormalities- such as bones in a fish or cracks in a pipe. These features, while obvious to the human eye are often hard for computers to detect, as there is nothing inherently unique about their colour, intensity, shape or size. Therefore the task presented is to create an image where the bones, cracks or any other desired features, are the only stand out features.
## Overview
In short, to complete this task two images are needed from different energy levels. Samples of the full images should be taken, making sure the samples are taken from the same places in each image. The two images should then be reduced to arrays of pixels and the logarithms of the values of each pixel should then be taken. These two arrays should have very similar respective values, and also have a strong linear correlation between them. Find the linear equation that, in general, describes the transformation from one sample to the other. When this equation is applied to the whole image that the first sample image was taken from, an array of values for a 'predicted' image will be created. Because the features being looked for do not follow the general pattern of the subject, they should be mainly ignored by the equation linking the two images, and therefore be left out of the predicted image. Finally, subtract the predicted array from the second image and the result should be an image of just the desired features surrounded by noise.
## Step 1: Manipulating the Data
In order to be easily accessed and manipulated, the data should first be reshaped into arrays. The logarithm of all the values should then be taken. As X-rays propogate through a material, the quantity of photons that are absorbed increases exponentially (as shwon in figure 1), therefore taking the log of these values creates a linear relationship which is easier to find as very few points are needed to formulate an equation.\n
![alt text](https://teaching.shu.ac.uk/hwb/chemistry/tutorials/molspec/Tvpath.gif "Beer's Law Graph")
## Step 2: Sampling
Taking samples of the image is important, as the image could contain millions of pixels and processing them all would take a lot of time and produce a result that would not necessarily be noticeably better. This could be a random sample, of a size that is appropriate to the images being processed- a low resolution image will not require a large sampe to gain a representitive array of data- but it may make more sense to use a set sample of pixels depending on the nature of your imges. In some images, the background may take up a large section of the data, this is significant as it would then also take up a large section of a random sample and would decrease the accuracy of a predicted image as it would dilute the change in attentuation of X-rays through the actual subject (the change in attenuation through air is effectively linear instead of exponential an image is taken). The only vital point on sampling, is that the same sample of both images is taken, as respective pixels need to be compared. 

